## Desaf칤o1맋e1:Implementar un sem치foro

Aqu칤 hay un componente de luz de paso de peatones que cambia cuando se pulsa el bot칩n:

```jsx
import { useState } from 'react';

export default function TrafficLight() {
  const [walk, setWalk] = useState(true);

  function handleClick() {
    setWalk(!walk);
  }

  return (
    <>
      <button onClick={handleClick}>
        Cambia a {walk ? 'Parar' : 'Caminar'}
      </button>
      <h1 style={{
        color: walk ? 'darkgreen' : 'darkred'
      }}>
        {walk ? 'Caminar' : 'Parar'}
      </h1>
    </>
  );
}
```

![[4-el-estado-como-una-instantanea-12.png]]

A침ade un `alert` al controlador de clics. Cuando la luz es verde y dice 춺Caminar췉, al hacer clic en el bot칩n debe decir 춺Parar es lo siguiente췉. Cuando la luz es roja y dice 춺Parar췉, al hacer clic en el bot칩n debe decir 춺Caminar es lo siguiente췉.

쮿ay alguna diferencia si se pone el `alert` antes o despu칠s de la llamada a `setWalk`?

### Respuesta

Ya sea que lo pongas antes o despu칠s del `setWalk` no hace ninguna diferencia. El valor del renderizado de `walk` queda fijo. La llamada a `setWalk` s칩lo lo cambiar치 para el _siguiente_ renderizado, pero no afectar치 al gestor de eventos del renderizado anterior.

**App.js**
```jsx
import { useState } from 'react';

export default function TrafficLight() {
  const [walk, setWalk] = useState(true);

  function handleClick() {
    setWalk(!walk);
    alert(walk ? 'Parar es lo siguiente' : 'Caminar es lo siguiente'); // 游녣
  }

  return (
    <>
      <button onClick={handleClick}>
        Cambia a {walk ? 'Parar' : 'Caminar'}
      </button>
      <h1 style={{
        color: walk ? 'darkgreen' : 'darkred'
      }}>
        {walk ? 'Caminar' : 'Parar'}
      </h1>
    </>
  );
}
```