> https://es.react.dev/learn/conditional-rendering

Tus componentes a menudo necesitar√°n mostrar diferentes cosas dependiendo de diferentes condiciones. En React, puedes renderizar JSX de forma condicional utilizando la sintaxis de JavaScript como las declaraciones `if`, `&&` y los operadores `? :`.

### Aprender√°s

- C√≥mo devolver distinto JSX dependiendo de una condici√≥n
- C√≥mo incluir o excluir condicionalmente un fragmento de JSX
- Atajos de sintaxis condicional comunes que encontrar√°s en las bases de c√≥digo de React

## Devoluci√≥n condicional de JSX

Supongamos que tienes un componente `PackingList` que muestra varios `Items`, que pueden ser marcados como empaquetados o no:

**App.jsx**
```jsx
function Item({ name, isPacked }) {
  return <li className="item">{name}</li>;
}

export default function PackingList() {
  return (
    <section>
      <h1>Lista de equipaje de Sally Ride</h1>
      <ul>
        <Item 
          isPacked={true} 
          name="Traje de vuelo" 
        />
        <Item 
          isPacked={true} 
          name="Casco con dorado a la hoja" 
        />
        <Item 
          isPacked={false} 
          name="Fotograf√≠a de Tam" 
        />
      </ul>
    </section>
  );
}
```

Muestra:

![[6-renderizado-condicional-1.png]]

Observa que algunos de los componentes `Item` tienen su _prop_ `isPacked` asignada a `true` en lugar de `false`. Se desea a√±adir una marca de verificaci√≥n (‚úî) a los elementos empaquetados si `isPacked={true}`.

Puedes escribir esto como una declaraci√≥n [`if`/`else`](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Statements/if...else) as√≠:

```jsx
if (isPacked) {
  return <li className="item">{name} ‚úî</li>;
}
return <li className="item">{name}</li>;
```

Si la prop `isPacked` es `true`, este c√≥digo **devuelve un √°rbol JSX diferente**. Con este cambio, algunos de los elementos obtienen una marca de verificaci√≥n al final:

**App.js**
```jsx
function Item({ name, isPacked }) {
  if (isPacked) { üëà
    return <li className="item">{name} ‚úî</li>; üëà
  }
  return <li className="item">{name}</li>; üëà
}

export default function PackingList() {
  return (
    <section>
      <h1>Lista de equipaje de Sally Ride</h1>
      <ul>
        <Item 
          isPacked={true} 
          name="Traje de vuelo" 
        />
        <Item 
          isPacked={true} 
          name="Casco con dorado a la hoja" 
        />
        <Item 
          isPacked={false} 
          name="Fotograf√≠a de Tam" 
        />
      </ul>
    </section>
  );
}
```

Muestra:

![[6-renderizado-condicional-2.png]]

Prueba a editar lo que se devuelve en cualquiera de los dos casos y observa c√≥mo cambia el resultado.

Observa c√≥mo est√°s creando una l√≥gica de ramificaci√≥n con las sentencias `if` y `return` de JavaScript. En React, el flujo de control (como las condiciones) es manejado por JavaScript.

### Devoluci√≥n de nada con¬†`null` (no recomendado)

En algunas situaciones, no querr√°s mostrar nada en absoluto. Por ejemplo, digamos que no quieres mostrar elementos empaquetados en absoluto. Un componente debe devolver algo. En este caso, puedes devolver `null`:

```jsx
if (isPacked) {
  return null;
}
return <li className="item">{name}</li>;
```

Si `isPacked` es verdadero, el componente no devolver√° nada, `null`. En caso contrario, devolver√° JSX para ser renderizado.

**App.js**
```jsx
function Item({ name, isPacked }) {
  if (isPacked) {
    return null; // üëà
  }
  return <li className="item">{name}</li>;
}

export default function PackingList() {
  return (
    <section>
      <h1>Lista de equipaje de Sally Ride</h1>
      <ul>
        <Item 
          isPacked={true} 
          name="Traje de vuelo" 
        />
        <Item 
          isPacked={true} 
          name="Casco con dorado a la hoja" 
        />
        <Item 
          isPacked={false} 
          name="Fotograf√≠a de Tam" 
        />
      </ul>
    </section>
  );
}
```

Muestra:

![[6-renderizado-condicional-4.png]]

> [!important]
> En la pr√°ctica, devolver `null` en un componente no es com√∫n porque podr√≠a sorprender a un desarrollador que intente renderizarlo. Lo m√°s frecuente es incluir o excluir condicionalmente el componente en el JSX del componente padre. Aqu√≠ se explica c√≥mo hacerlo.

## Exclusi√≥n condicional de JSX

En el ejemplo anterior, controlabas qu√© √°rbol JSX (si es que hab√≠a alguno) era devuelto por el componente. Es posible que ya hayas notado alguna duplicaci√≥n en la salida de la renderizaci√≥n:

```jsx
<li className="item">{name} ‚úî</li>
```

es muy similar a

```jsx
<li className="item">{name}</li>
```

Ambas ramas condicionales devuelven `<li className="item">...</li>`:

```jsx
if (isPacked) {
  return <li className="item">{name} ‚úî</li>;
}
return <li className="item">{name}</li>;
```

**Aunque esta duplicaci√≥n no es perjudicial, podr√≠a hacer que tu c√≥digo sea m√°s dif√≠cil de mantener**. ¬øQu√© pasa si quieres cambiar el `className`? ¬°Tendr√≠as que hacerlo en dos lugares en tu c√≥digo! En tal situaci√≥n, podr√≠as incluir condicionalmente un poco de JSX para hacer tu c√≥digo m√°s [DRY](https://es.wikipedia.org/wiki/No_te_repitas).

### Operador condicional (ternario) (`? :`

JavaScript tiene una sintaxis compacta para escribir una expresi√≥n condicional ‚Äî el [operador condicional](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Operators/Conditional_Operator) u ¬´_operador ternario_¬ª.

En lugar de esto:

```jsx
if (isPacked) {
  return <li className="item">{name} ‚úî</li>;
}
return <li className="item">{name}</li>;
```

Puedes escribir esto:

```jsx
return (
  <li className="item">
    {isPacked ? name + ' ‚úî' : name}
  </li>
);
```

Puedes leerlo como _¬´si `isPacked` es verdadero, entonces (`?`) renderiza `name + ' ‚úî'`, de lo contrario (`:`) renderiza `name`¬ª_)

> [!info]
> ### ¬øSon estos dos ejemplos totalmente equivalentes?
> Si vienes de un entorno de programaci√≥n orientada a objetos, podr√≠as asumir que los dos ejemplos anteriores son sutilmente diferentes porque uno de ellos puede crear dos ¬´instancias¬ª diferentes de `<li>`. Pero los elementos JSX no son ¬´instancias¬ª porque no contienen ning√∫n estado interno y no son nodos reales del DOM. Son descripciones ligeras, como los planos. As√≠ que estos dos ejemplos, de hecho, _son_ completamente equivalentes. En [Preservar y reiniciar el estado](https://es.react.dev/learn/preserving-and-resetting-state) se explica en detalle c√≥mo funciona esto.

Ahora digamos que quieres envolver el texto del elemento completado en otra etiqueta HTML, como `<del>` para tacharlo. Puedes a√±adir a√∫n m√°s l√≠neas nuevas y par√©ntesis para que sea m√°s f√°cil anidar m√°s JSX en cada uno de los casos:

**App.js**
```jsx
function Item({ name, isPacked }) {
  return (
    <li className="item">
      {isPacked ? ( {/*üëà*/}
        <del>
          {name + ' ‚úî'}
        </del>
      ) : (
        name
      )}
    </li>
  );
}

export default function PackingList() {
  return (
    <section>
      <h1>Lista de equipaje de Sally Ride</h1>
      <ul>
        <Item 
          isPacked={true} 
          name="Traje de vuelo" 
        />
        <Item 
          isPacked={true} 
          name="Casco con dorado a la hoja" 
        />
        <Item 
          isPacked={false} 
          name="Fotograf√≠a de Tam" 
        />
      </ul>
    </section>
  );
}
```

Muestra:

![[6-renderizado-condicional-3.png]]

Este estilo funciona bien para condiciones simples, pero util√≠zalo con moderaci√≥n. Si tus componentes se desordenan con demasiado marcado condicional anidado, considera la posibilidad de extraer componentes hijos para limpiar las cosas. En React, el marcado es una parte de tu c√≥digo, por lo que puedes utilizar herramientas como variables y funciones para ordenar las expresiones complejas.

### Operador l√≥gico AND (`&&`)

Otro atajo com√∫n que encontrar√°s es el [operador l√≥gico AND (`&&`) de JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND#:~:text=The%20logical%20AND%20(%20%26%20)%20operator,it%20returns%20a%20Boolean%20value.). Dentro de los componentes de React, a menudo surge cuando quieres renderizar alg√∫n JSX cuando la condici√≥n es verdadera, **o no renderizar nada en caso contrario.** Con `&&`, podr√≠as renderizar condicionalmente la marca de verificaci√≥n s√≥lo si `isPacked` es `true`:

```jsx
return (
  <li className="item">
    {name} {isPacked && '‚úî'}
  </li>
);
```

Puedes leer esto como _¬´si `isPacked`, entonces (`&&`) renderiza la marca de verificaci√≥n, si no, no renderiza nada.¬ª_

Aqu√≠ est√° en acci√≥n:

**App.js**
```jsx
function Item({ name, isPacked }) {
  return (
    <li className="item">
      {name} {isPacked && '‚úî'}
    </li>
  );
}

export default function PackingList() {
  return (
    <section>
      <h1>Lista de equipaje de Sally Ride</h1>
      <ul>
        <Item 
          isPacked={true} 
          name="Traje de vuelo" 
        />
        <Item 
          isPacked={true} 
          name="Casco con dorado a la hoja" 
        />
        <Item 
          isPacked={false} 
          name="Fotograf√≠a de Tam" 
        />
      </ul>
    </section>
  );
}
```

Muestra:

![[6-renderizado-condicional-2.png]]

Una [expresi√≥n JavaScript &&](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND) devuelve el valor de su lado derecho (en nuestro caso, la marca de verificaci√≥n) si el lado izquierdo (nuestra condici√≥n) es `true`. Pero si la condici√≥n es `false`, toda la expresi√≥n se convierte en `false`. **React considera `false` como un ¬´agujero¬ª en el √°rbol JSX, al igual que `null` o `undefined`, y no renderiza nada en su lugar**.

> [!warning]
> ‚≠ê **No pongas n√∫meros a la izquierda de `&&`.**
>
>Para comprobar la condici√≥n, JavaScript convierte el lado izquierdo en un booleano autom√°ticamente. **Sin embargo, si el lado izquierdo es `0`, entonces toda la expresi√≥n obtiene ese valor (`0`), y React representar√° felizmente `0` en lugar de nada.**
>
>Por ejemplo, un error com√∫n es escribir c√≥digo como `messageCount && <p>New messages</p>`. Es f√°cil suponer que no renderiza nada cuando `messageCount` es `0`, pero en realidad renderiza el propio `0`.
>
>Para arreglarlo, haz que el lado izquierdo sea un booleano: `messageCount > 0 && <p>New messages</p>`.

### Asignaci√≥n condicional de JSX a una variable¬†

Cuando los atajos se interpongan en el camino de la escritura de c√≥digo simple, prueba a utilizar una sentencia `if` y una variable. Puedes reasignar las variables definidas con [`let`](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Statements/let), as√≠ que empieza proporcionando el contenido por defecto que quieres mostrar, el nombre:

```jsx
let itemContent = name;
```

Utiliza una sentencia `if` para reasignar una expresi√≥n JSX a `itemContent` si `isPacked` es `true`:

```jsx
if (isPacked) {
  itemContent = name + " ‚úî";
}
```

[[4 - ‚≠ê JavaScript en JSX con llaves#‚≠ê Usando llaves Una ventana al mundo de JavaScript|Las llaves abren la ¬´ventana a JavaScript¬ª.]] Inserta la variable con llaves en el √°rbol JSX devuelto, anidando la expresi√≥n previamente calculada dentro de JSX:

```jsx
<li className="item">
  {itemContent}
</li>
```

Este estilo es el m√°s verboso, pero tambi√©n el m√°s flexible. Aqu√≠ est√° en acci√≥n:

**App.js**
```jsx
function Item({ name, isPacked }) {
  let itemContent = name; // üëà
  if (isPacked) { // üëà
    itemContent = name + " ‚úî";
  }
  return (
    <li className="item">
      {itemContent} // üëà
    </li>
  );
}

export default function PackingList() {
  return (
    <section>
      <h1>Lista de equipaje de Sally Ride</h1>
      <ul>
        <Item 
          isPacked={true} 
          name="Traje de vuelo" 
        />
        <Item 
          isPacked={true} 
          name="Casco con dorado a la hoja" 
        />
        <Item 
          isPacked={false} 
          name="Fotograf√≠a de Tam" 
        />
      </ul>
    </section>
  );
}
```

Como antes, esto funciona no s√≥lo para el texto, sino tambi√©n para JSX arbitrario:

**App.js**
```jsx
function Item({ name, isPacked }) {
  let itemContent = name; // üëà
  if (isPacked) {
    itemContent = ( // üëà
      <del>
        {name + " ‚úî"}
      </del>
    );
  }
  return (
    <li className="item">
      {itemContent} // üëà
    </li>
  );
}

export default function PackingList() {
  return (
    <section>
      <h1>Lista de equipaje de Sally Ride</h1>
      <ul>
        <Item 
          isPacked={true} 
          name="Traje de vuelo" 
        />
        <Item 
          isPacked={true} 
          name="Casco con dorado a la hoja" 
        />
        <Item 
          isPacked={false} 
          name="Fotograf√≠a de Tam" 
        />
      </ul>
    </section>
  );
}
```

Si no est√°s familiarizado con JavaScript, esta variedad de estilos puede parecer abrumadora al principio. Sin embargo, aprenderlos te ayudar√° a leer y escribir cualquier c√≥digo JavaScript ‚Äî ¬°y no s√≥lo los componentes de React! Escoge el que prefieras para empezar, y luego vuelve a consultar esta referencia si olvidas c√≥mo funcionan los dem√°s.

## Recapitulaci√≥n

- En React, se controla la l√≥gica de ramificaci√≥n con JavaScript.
- Puedes devolver una expresi√≥n JSX condicionalmente con una sentencia¬†`if`.
- Puedes guardar condicionalmente alg√∫n JSX en una variable y luego incluirlo dentro de otro JSX usando las llaves.
- En JSX,¬†`{cond ? <A /> : <B />}`¬†significa¬†_¬´si¬†`cond`, renderiza¬†`<A />`, si no¬†`<B />`¬ª_.
- En JSX,¬†`{cond && <A />}`¬†significa¬†_¬´si¬†`cond`, renderiza¬†`<A />`, si no, nada¬ª_.
- Los atajos son comunes, pero no tienes que usarlos si prefieres el simple¬†`if`.