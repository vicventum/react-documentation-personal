## DesafÃ­oÂ 1Â deÂ 3:Â Arreglar un reloj rotoÂ 

Este componente intenta establecer en el `<h1>` la clase `"night"` desde la media noche hasta las 6 de la maÃ±ana , y `"day"` para las otras horas. Sin embargo, no funciona. Â¿Puedes arreglar este componente?

Puedes verificar si tu soluciÃ³n funciona cambiando temporalmente la zona horaria de la computadora. Cuando la hora actual es entre la medianoche y las seis de la maÃ±ana, Â¡el reloj deberÃ­a tener colores invertidos!

```jsx
export default function Clock({ time }) {
  let hours = time.getHours();
  if (hours >= 0 && hours <= 6) {
    document.getElementById('time').className = 'night';
  } else {
    document.getElementById('time').className = 'day';
  }
  return (
    <h1 id="time">
      {time.toLocaleTimeString()}
    </h1>
  );
}
```

### Respuesta

```jsx
export default function Clock({ time }) {
  let hours = time.getHours();
  let timeClass = "day"; // ğŸ‘ˆ
  if (hours >= 0 && hours <= 6) timeClass = "night"; // ğŸ‘ˆ

  return (
    <h1 id="time" className={timeClass}> // ğŸ‘ˆ
      {time.toLocaleTimeString()}
    </h1>
  );
}
```

## DesafÃ­oÂ 2Â deÂ 3:Â Arreglar un perfil roto

Dos componentes `Profile` son renderizados uno al lado del otro con datos diferentes. Presiona Â«ContraerÂ» en el primer perfil, Y luego Â«ExpandirÂ». NotarÃ¡s que ambos perfiles ahora muestran a la misma persona. Esto es un error.

Encuentra la causa del error y arrÃ©glalo.

**App.jsx**
```jsx
import Profile from './Profile.js';

export default function App() {
  return (
    <>
      <Profile person={{
        imageId: 'lrWQx8l',
        name: 'Subrahmanyan Chandrasekhar',
      }} />
      <Profile person={{
        imageId: 'MK3eW3A',
        name: 'Creola Katherine Johnson',
      }} />
    </>
  )
}
```

**Profile.jsx**
```jsx
import Panel from './Panel.js';
import { getImageUrl } from './utils.js';

let currentPerson;

export default function Profile({ person }) {
  currentPerson = person;
  return (
    <Panel>
      <Header />
      <Avatar />
    </Panel>
  )
}

function Header() {
  return <h1>{currentPerson.name}</h1>;
}

function Avatar() {
  return (
    <img
      className="avatar"
      src={getImageUrl(currentPerson)}
      alt={currentPerson.name}
      width={50}
      height={50}
    />
  );
}
```

### Respuesta

**Profile.jsx**
```jsx
import Panel from "./Panel.js";
import { getImageUrl } from "./utils.js";

export default function Profile({ person }) { // ğŸ‘ˆ
  return (
    <Panel>
      <Header name={person.name} /> // ğŸ‘ˆ
      <Avatar person={person} /> // ğŸ‘ˆ
    </Panel>
  );
}

function Header({ name }) { // ğŸ‘ˆ
  return <h1>{name}</h1>;
}

function Avatar({ person }) { // ğŸ‘ˆ
  return (
    <img
      className="avatar"
      src={getImageUrl(person)}
      alt={person.name}
      width={50}
      height={50}
    />
  );
}

```

## DesafÃ­oÂ 3Â deÂ 3:Â Arregla una bandeja de historias rotaÂ 

El CEO de su empresa te pide que agregues Â«historiasÂ» a tu aplicaciÃ³n de reloj en lÃ­nea, y no puedes decir que no. Has escrito un componente `StoryTray` que acepta una lista de `stories`, seguido del placeholder Â«Crear historiaÂ».

Implementaste el placeholder Â«Crear historiaÂ» para incluir mÃ¡s historias falsas al final del array `stories` que recibes por props. Pero por alguna razÃ³n, Â«Crear historiaÂ» aparece mÃ¡s de una vez. Arregla el problema.

**StoryTray.js**
```jsx
export default function StoryTray({ stories }) {
  stories.push({
    id: 'create',
    label: 'Crear historia'
  });

  return (
    <ul>
      {stories.map(story => (
        <li key={story.id}>
          {story.label}
        </li>
      ))}
    </ul>
  );
}
```

## Respuesta

Observa cÃ³mo cada vez que se actualiza el reloj, se agrega Â«Crear historiaÂ» _dos veces_. Esto sirve como una pista de que tenemos una mutaciÃ³n durante el renderizado â€”El modo estricto llama a los componentes dos veces para que estos problemas sean mÃ¡s notables.

La funciÃ³n `StoryTray` no es pura. **Al llamar `push` en el _array_ de `stories` recibido (Â¡como prop!), estÃ¡ mutando un objeto que fue creado _antes_ de comenzar el renderizado de `StoryTray`**. Esto lo hace defectuoso y muy difÃ­cil de predecir.

Por ello, para solucionarlo, simplemente evitamos modificar la prop directamente y creamos un nuevo array con todos los datos de la prop `stories`, pero agregÃ¡ndole adicionalmente el _placeholder_:

**StoryTray.js**
```jsx
export default function StoryTray({ stories }) {
  const defaultStories = [ // ğŸ‘ˆ
    ...stories,
    {
      id: "create",
      label: "Crear historia",
    },
  ];

  return (
    <ul>
      {defaultStories.map((story) => (
        <li key={story.id}>{story.label}</li>
      ))}
    </ul>
  );
}
```